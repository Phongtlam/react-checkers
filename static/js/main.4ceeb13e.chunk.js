(this.webpackJsonpcheckers=this.webpackJsonpcheckers||[]).push([[0],{14:function(e,t,r){e.exports=r(23)},19:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){},22:function(e,t,r){},23:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(6),o=r.n(i),c=(r(19),r(10)),s=r(12),l=r(7),u=r(8),h=r(1),f=r(9),g=r(13),v=(r(20),r(3)),d=(r(21),r(11)),b="1",m="2",p="3",S="4",y=function(e,t){var r="black";return e%2===t%2&&(r="white"),r},k=function(){for(var e=[],t=0;t<8;t++){e[t]="........";for(var r=0;r<8;r++)t%2!==r%2&&(t<3&&(e[t]=e[t].substring(0,r)+"2"+e[t].substring(r+1)),t>4&&(e[t]=e[t].substring(0,r)+"1"+e[t].substring(r+1)))}return e},O=function(e,t,r,a){if(A(e[t][r])!==b&&A(e[t][r])!==m)return[];if(A(e[t][r])!==a)return[];var n=[],i=A(e[t][r])===b?t-1:t+1,o=A(e[t][r])===b?m:b,c=A(e[t][r])===b?-1:1;if(e[t][r]===p||e[t][r]===S)return E(e,[t,r]);if(!e[i]||t<0||r<0||t>e.length-1||r>e[0].length-1)return[];function s(){"."===e[i][r-1]&&n.push([i,r-1]),"."===e[i][r+1]&&n.push([i,r+1])}return e[i][r-1]===o||e[i][r+1]===o?(e[i][r-1]===o&&e[i+c]&&"."===e[i+c][r-2]&&n.push([i+c,r-2]),e[i][r+1]===o&&e[i+c]&&"."===e[i+c][r+2]&&n.push([i+c,r+2]),e[i+c]&&(!e[i+c]||n.length||"."===e[i+c][r-2]&&"."===e[i+c][r+2])||s()):s(),n},E=function(e,t){var r=Object(d.a)(t,2),a=r[0],n=r[1],i=[];function o(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e[t],s=0;s<o.length;s++)if(Math.abs(a-t)===Math.abs(n-s)){if(c.left&&c.right)break;if("."===o[s]){if(c.left&&s-n<0)continue;if(c.right&&s-n>0)continue;i.push([t,s])}else!c.left&&s-n<0&&(c.left=!0,A(o[s])!==A(e[a][n])&&(r&&e[t-1]&&"."===e[t-1][s-1]&&i.push([t-1,s-1]),!r&&e[t+1]&&"."===e[t+1][s-1]&&i.push([t+1,s-1]))),!c.right&&s-n>0&&(c.right=!0,A(o[s])!==A(e[a][n])&&(r&&e[t-1]&&"."===e[t-1][s+1]&&i.push([t-1,s+1]),!r&&e[t+1]&&"."===e[t+1][s+1]&&i.push([t+1,s+1])))}}for(var c={},s=a+1;s<e.length;s++)o(s,!1);c={};for(var l=a-1;l>=0;l--)o(l,!0);return i},M=function(e,t,r,a){e[t]=e[t].substring(0,r)+a+e[t].substr(r+1)},j=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var a=[],n=function(e){"string"===typeof t[e]&&a.push(t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((function(r){t[e][r]&&a.push(r)}))},i=0;i<t.length;i++)n(i);return a.join(" ")},A=function(e){if("."!==e)return("string"===typeof e?Number(e):e)%2===0?m:b},N=function(e){var t,r=e.xCoord,a=e.row,i=e.hasHighlightedSquares,o=Object(v.a)(e,["xCoord","row","hasHighlightedSquares"]),c=[];for(var s=0;s<a.length;s++)c.push(n.a.createElement(P,Object.assign({key:"".concat(r,"-").concat(s),xCoord:r,yCoord:s,playerPiece:a[s],isHighlighted:(t=s,!(!Array.isArray(i)||-1===i.indexOf(t)))},o)));return n.a.createElement("div",{className:"board-row board-row-".concat(r)},c)},P=function(e){var t=e.xCoord,r=e.yCoord,a=e.playerPiece,i=e.onPieceSelected,o=e.isHighlighted,c=e.turn,s=e.onPieceDrop,l="."!==a;function u(){i({x:t,y:r})}return n.a.createElement("div",{className:j("board-square","board-square-".concat(y(t,r)))},n.a.createElement("div",{className:j("board-square-player-piece","board-square-K1",{"board-square-highlight-1":o&&c===b,"board-square-highlight-2":o&&c===m,"board-square-1":a===b||a===p,"board-square-2":a===m||a===S}),draggable:l,onDragStart:u,onDrop:function(e){e.preventDefault(),s({x:t,y:r})},onDragOver:function(e){e.preventDefault()},onMouseOver:u},(a===p||a===S)&&n.a.createElement("span",null,"KING")))},x=function(e){var t=e.board,r=e.highlightMoves,a=Object(v.a)(e,["board","highlightMoves"]),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return{};for(var t={},r=0;r<e.length;r++){var a=e[r];t[a[0]]=t[a[0]]||[],t[a[0]].push(a[1])}return t}(r);return n.a.createElement("div",{className:"board-container"},t.map((function(e,t){return n.a.createElement(N,Object.assign({key:t,xCoord:t,row:e,hasHighlightedSquares:i[t]},a))})))},w=(r(22),function(){}),C=function(e){var t=e.onClick,r=e.text,a=e.className,i=Object(v.a)(e,["onClick","text","className"]);return n.a.createElement("button",Object.assign({onClick:t||w,className:j("button",a)},i),r||"")},D=function(e){Object(g.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).state={board:[],turn:b,highlightMoves:[],currentlySelected:[],lastGameStates:[],isAi:!1},a.onPieceSelected=a.onPieceSelected.bind(Object(h.a)(a)),a.onPieceDrop=a.onPieceDrop.bind(Object(h.a)(a)),a.revertLastMove=a.revertLastMove.bind(Object(h.a)(a)),a.initializeBoard=a.initializeBoard.bind(Object(h.a)(a)),a.toggleAi=a.toggleAi.bind(Object(h.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("react-checker");e?this.setState(JSON.parse(e)):this.initializeBoard()}},{key:"initializeBoard",value:function(){this.setState({board:k(),turn:b,highlightMoves:[],currentlySelected:[],lastGameStates:[]},(function(){localStorage.removeItem("react-checker")}))}},{key:"revertLastMove",value:function(){if(this.state.lastGameStates.length){var e=this.state.lastGameStates.pop();this.setState(Object(s.a)({},e),(function(){localStorage.setItem("react-checker",JSON.stringify(e))}))}}},{key:"onPieceSelected",value:function(e){var t=this.state,r=t.board,a=t.turn,n=e.x,i=e.y;this.setState({highlightMoves:O(r,n,i,a),currentlySelected:[n,i]})}},{key:"onPieceDrop",value:function(e,t){var a=this,n=this.state,i=n.highlightMoves,o=n.board,s=n.turn,l=n.currentlySelected;t||(t=l);var u=e.x,h=e.y;if(u!==t[0]||h!==t[1])for(var f=0;f<i.length;f++){var g=i[f];if(g[0]===u&&g[1]===h)if("break"===function(){var e=Object(c.a)(o);if(M(e,u,h,o[t[0]][t[1]]),M(e,t[0],t[1],"."),Math.abs(u-t[0])>1){var n=u-t[0]>0?-1:1,i=h<t[1]?1:-1;M(e,u+n,h+i,".")}return 0===u&&s===b&&M(e,u,h,p),7===u&&s===m&&M(e,u,h,S),a.setState((function(t){var a={board:e,turn:t.turn===b?m:b,highlightMoves:[],currentlySelected:[]};return r.saveToLocalStorage(a),a.lastGameStates=t.lastGameStates.concat(t),a}),(function(){a.runAI()})),"break"}())break}}},{key:"runAI",value:function(){var e=this,t=this.state,r=t.board;if(t.isAi&&this.state.turn===m){var a=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[0].length;r++){var a=O(e,t,r,m);if(a.length)return{from:[t,r],to:a[0]}}}(r);a&&this.setState({highlightMoves:[a.to],currentlySelected:a.from},(function(){e.onPieceDrop({x:a.to[0],y:a.to[1]},a.from)}))}}},{key:"toggleAi",value:function(){this.setState({isAi:!this.state.isAi})}},{key:"render",value:function(){var e=this.state,t=e.board,r=e.turn,a=e.highlightMoves,i=e.isAi;return n.a.createElement("div",{className:"game-container"},n.a.createElement(x,{board:t,turn:r,onPieceSelected:this.onPieceSelected,highlightMoves:a,onPieceDrop:this.onPieceDrop}),n.a.createElement("div",{className:"game-footer"},n.a.createElement("div",null,n.a.createElement("p",null,"Current Player Turn: ",r===b?"PLAYER ONE":"PLAYER TWO"),n.a.createElement("p",null,"AI IS ",i?"ON":"OFF")),n.a.createElement(C,{onClick:this.revertLastMove,text:"REVERT LAST MOVE"}),n.a.createElement(C,{onClick:this.initializeBoard,text:"NEW GAME"}),n.a.createElement(C,{onClick:this.toggleAi,text:"AI ".concat(i?"ON":"OFF"),className:i?"ai-button-on":"ai-button-off"})))}}],[{key:"saveToLocalStorage",value:function(e){localStorage.setItem("react-checker",JSON.stringify(e))}}]),r}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.4ceeb13e.chunk.js.map